(this["webpackJsonpfictional-goggles"]=this["webpackJsonpfictional-goggles"]||[]).push([[0],{16:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),r=n(9),s=n.n(r),a=(n(16),n(6)),i=n.n(a),l=n(8),u=n(11),h=n(2),j=n(3),b=n(5),d=n(4),f=n(10),p="openlibrary.org",O=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="https://".concat(p).concat(t,"?").concat(Object(f.stringify)(n)),e.next=3,fetch(o,{cache:"no-cache",headers:{Accept:"application/json"}});case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(e){return O("/search.json",{title:e})},x=n.p+"static/media/no-book-cover-available.19a0b711.jpg",v=n(0),g=function(e){var t,n=e.book,o=e.addToBookShelf,c=n.title,r=n.author_name,s=n.cover_i,a=void 0===s?[]:s;return null==a.length&&-1!==a&&(t=Object(v.jsx)("img",{src:"https://covers.".concat(p,"/b/id/").concat(a,".jpg"),alt:"cover"})),Object(v.jsxs)("div",{className:"book",children:[Object(v.jsx)("p",{className:"book-cover",children:t||Object(v.jsx)("img",{src:x,alt:"no cover"})}),Object(v.jsxs)("div",{className:"book-content",children:[Object(v.jsx)("p",{className:"book-title",children:c}),r&&Object(v.jsxs)("p",{className:"book-author",children:["by ",r.join(", ")]})]}),Object(v.jsx)("footer",{className:"book-footer",children:Object(v.jsx)("button",{onClick:function(){return o(n)},children:"Add Book"})})]})},m=function(e){var t=e.addToBookShelf,n=e.loading,o=void 0!==n&&n,c=e.books,r=void 0===c?[]:c,s=e.count,a=void 0===s?0:s;return Object(v.jsx)("section",{children:Object(v.jsxs)("div",{className:"flex-container",children:[o,r.length>0&&Object(v.jsxs)("p",{children:["Showing ",Object(v.jsx)("strong",{children:r.length})," of ",Object(v.jsx)("strong",{children:a})," results."]}),r.map((function(e){return Object(v.jsx)(g,{book:e,addToBookShelf:t},e.key)}))]})})},y=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(v.jsx)("section",{children:Object(v.jsx)("div",{className:"flex-container book-added",children:this.props.bookShelfBooks.map((function(e){return Object(v.jsx)(g,{book:e},e.key)}))})})}}]),n}(o.Component),S=y,B=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(v.jsx)("section",{children:Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("form",{onSubmit:this.props.onSearch,children:Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{type:"text",placeholder:"Book Title",defaultValue:this.props.query,onChange:this.props.onQueryChange})}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("button",{type:"submit",children:"Search"})})]})})})})}}]),n}(c.a.Component),F=B,N=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(h.a)(this,n);for(var o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={books:[],isFetching:!1,query:"",numFound:0,bookShelfBooks:[]},e.addToBookShelf=function(t){e.setState({bookShelfBooks:[].concat(Object(u.a)(e.state.bookShelfBooks),[t])})},e.onSearch=function(){var t=Object(l.a)(i.a.mark((function t(n){var o,c,r,s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),e.setState({isFetching:!0,books:[]}),t.next=4,k(e.state.query);case 4:o=t.sent,c=o.docs,r=void 0===c?[]:c,s=o.numFound,a=void 0===s?0:s,e.setState({books:r,isFetching:!1,numFound:a});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onQueryChange=function(t){var n=t.target.value;e.setState({query:n})},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(o.Fragment,{children:[Object(v.jsx)("section",{children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h1",{children:"Fictional Goggles"}),Object(v.jsx)("h2",{children:"Open Library book search"})]})}),Object(v.jsx)(S,{bookShelfBooks:this.state.bookShelfBooks}),Object(v.jsx)(F,{onQueryChange:this.onQueryChange,onSearch:this.onSearch,query:this.state.query}),Object(v.jsx)(m,{addToBookShelf:this.addToBookShelf,loading:this.state.isFetching,books:this.state.books,count:this.state.numFound})]})}}]),n}(o.Component),C=N,T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),o(e),c(e),r(e),s(e)}))};s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(C,{})}),document.getElementById("root")),T()}},[[21,1,2]]]);
//# sourceMappingURL=main.3fbaa0ea.chunk.js.map